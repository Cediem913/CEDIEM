<section id="result-courses">
    <div class="input-group mb-3">
        <input id="input-query" type="text" class="form-control" placeholder="Que curso buscas?" value="{{query}}">
        <button id="button-find" type="button" class="btn btn-dark cart">Buscar</button>
    </div>
    </br></br>

    <div>
        <div class="row">
            <div id="courses-slider" class="owl-carousel">
                {{#each courses}}
                <div class="col-12">
                    <div class="card border-cediem mb-4">
                        <div class="card-img-top"><img class="img-fluid"
                                src="https://res.cloudinary.com/dinzw8gc3/image/upload/v1564937147/CEDIEM/Website/roots/{{id_root}}/{{Image}}"
                                alt="{{id_course}}"></div>
                        <div class="card-body">
                            <h5 class="card-title font-weight-bold">{{id_course}}</h5>
                            <p class="card-text">{{Description}}</p>
                        </div>
                        <div class="card-footer bg-transparent">
                            <div class="text-center">
                                <a class="btn btn-dark cart" href="/curso/{{id_course}}">Ver detalles</a>
                            </div>
                        </div>
                    </div>
                </div>
                {{else}}
                <div class="col-12">
                    <div class="card border-cediem mb-4">
                        <div class="card-body">
                            <h3>No se encontraron cursos</h3>
                        </div>
                        <div class="card-footer bg-transparent">
                            <button onclick="goBack()" class="btn btn-dark"> Regresar</button>
                        </div>
                    </div>
                </div>
                {{/each}}
            </div>
        </div>

        </br></br></br>
        {{#if pages.show}}
        <nav aria-label="...">
            <ul class="pagination justify-content-center">
                <li class="page-item {{#if pages.firstItem.active}}disabled{{/if}}">
                    <a class="page-link" href="/cursos/1/{{query}}" tabindex="-1">1</a>
                </li>

                {{#if pages.firstDummy.active}}
                <li class="page-item disabled">
                    <a class="page-link" href="#" tabindex="-1">...</a>
                </li>
                {{/if}}

                {{#each pages.array}}
                <li class="page-item">
                    <a class="page-link {{#if active}}enabled{{/if}}" href="/cursos/{{field}}/{{query}}">{{field}}</a>
                </li>
                {{/each}}

                {{#if pages.lastDummy.active}}
                <li class="page-item disabled">
                    <a class="page-link" href="#" tabindex="-1">...</a>
                </li>
                {{/if}}

                <li class="page-item {{#if pages.lastItem.active}}disabled{{/if}}">
                    <a class="page-link" href="/cursos/{{pages.totalPages}}/{{query}}"
                        tabindex="-1">{{pages.totalPages}}</a>
                </li>
            </ul>
        </nav>
        {{/if}}
    </div>

    <script>
        $(document).ready(function () {
            $("#button-find").on("click", function () {
                $.ajax({
                    url: "/cursos/1/" + document.getElementById("input-query").value
                })
                    .done(function (data) {
                        $('#result-courses').html(data);
                    });
            });
        });    
    </script>
    
    <script>
        $(document).ready(function () {
            $("#courses-slider").owlCarousel({
                margin: 4,
                loop: true,
                items: 4,
                responsive: {
                    0: {
                        items: 1
                    },
                    720: {
                        items: 2
                    },
                    1024: {
                        items: 4
                    }
                },
                singleItem: false
            });
        });
    </script>
</section>